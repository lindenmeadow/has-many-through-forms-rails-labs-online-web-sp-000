<h1>New Post</h1>
<%= form_for(@post) do |f| %>
  <%= f.label :title %>
  <%= f.text_field :title %>
  <br>
  <%= f.label :content %>
  <%= f.text_area :content %>
  <br>
  <%= f.label :category_ids, "Categories" %>
  <%= f.collection_check_boxes(:category_ids, Category.all, :id, :name) %>
  <% 
  # this will generate a checkbox named post[category_ids][] for each category in Category.all
  #it will use the :id as the value for the checkbox
  #and it will use the :name method as the label for the checkbox
  %>
  <br>
  <p>
    Or write a new category:
    <%= f.fields_for :categories do |cat_fields| %>
      <%= cat_fields.text_field :name %>
    <% end %>
  </p>

  <%= f.submit %>

<% end %>